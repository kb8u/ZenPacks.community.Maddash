name: ZenPacks.community.Maddash

classes:
    MaddashDevice:
        base: [zenpacklib.Device]
        label: Maddash Device

    MaddashCell:
        base: [zenpacklib.Component]
        label: Maddash Cell

        properties:
            check_type:
                label: Check Type
                grid_display: False

            check_direction:
                label: Check Direction
                grid_display: False

            check_uri:
                label: Maddash Check URI
                grid_display: True

        monitoring_templates: [ Maddash ]

class_relationships:
  - MaddashDevice 1:MC MaddashCell

device_classes:
  /Network/MadDash:
    zProperties:
      zPythonClass: ZenPacks.community.Maddash.MaddashDevice
      zPingMonitorIgnore: true
      zSnmpMonitorIgnore: true
      zCollectorPlugins:
        - Maddash.MaddashCell
    templates:
      Maddash:
        description: Maddash component monitoring template
        targetPythonClass: ZenPacks.community.Maddash.MaddashCell

        datasources:
          query:
            type: Python
            plugin_classname: ZenPacks.community.Maddash.dsplugins.QueryMaddash
            cycletime: "300"

            datapoints:
              measurement: GAUGE
